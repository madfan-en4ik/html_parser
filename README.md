# html_parser

Это парсер объявлений сайта rst.ua.
Сайт имеет рукописный движок, поэтому с него довольно трудно парсить.
Неудобная пагинация и структура объявлений. Однако были реализованы основные функции и возможности парсера с помощью библиотеки JSOUP.
***
В структуру проекта входят 5 классов:
***
Ad - класс описывает структуру объявления
***
HTMLParser - класс, в котором реализована функция парсинга определенной страницы сайта. Функция принимает адрес страницы с  ее номером и парсит ее. Также тут есть проверка на то, главная ли страница.
Ообенность сайта в том, что при переходе на несуществующую страницу при проходе цикла (Например, rst.ua/oldcars/crimea/2.html - существует, а rst.ua/oldcars/crimea/3.html уже нет) сайт перекидывает на главную rst.ua/oldcars/crimea/. 
Поэтому была создана специальная переменнуая, хранящая адрес самого 1 объявления для того, чтобы в дальнейшем ее сравнивать с другими объявлениями и определять какая страница открыта.
***
fileJson - класс, реализующий запись данных в формате JSON. Использовалась библиотека JSON simple.
***
fileXML - класс, реализующий запись данных в формате XML.
***
Form - класс, реализующий пользовательский интерфейс, форму для заполнения данных. При нажатии на кнопку "парсить", программа парсит объявления по заданным параметрам (регион, марка, модель). Также можно выбрать, парсить ли описание (увеличивается время ожидания из-за доп. перехода на стр), и в каком формате сохранить данные (доступны оба формата json и xml).  Единственный минус, не успели доработать нормальную очистку формы и повторный парсинг. То есть парсить можно только 1 раз, в дальнейшем надо просто перезапустить программу.
***
Важно! Для того чтобы правильно парсить, в полях make и model необходимо указывать марку и модель в таком виде: "audi", "a7"; "chery", "amulet". В идеале можно было создать ассоциат. массив типа "Ауди" -> "audi", чтобы пользователю было проще искать. 
Это можно реализовать при большем количестве свободного времени. Однако парсить можно без проблем и с помощью карты сайта rst.ua/sitemap.xml, в которой есть список всех доступных марок и моделей авто.
***
Application - по сути бесполезный класс, т.к. изначально проектировался как основной. Хотел разделить реализацию формы и реализацию нажатия на кнопку "парсить" в разные файлы. То есть логичней было бы в классе Form просто описать форму, а в Application ее реализовать со всеми функциями и тд, то есть собрать полностью весь проект.
***
Проект был выполнен 3 студентами:
***
Барказова Айше, Степанов Руслан, Бакиев Энвер.
Айше разрабатывала пользовательский интерфейс,класс формы и описывала его, Руслан реализовывал классы fileJson и fileXML, я реализовывал саму логику программы и парсинг объявлений. Также по ходу проекта были изучены новые библиотеки JSOUP и JSON Simple. 
***
Прошу оценить нашу работу). 
